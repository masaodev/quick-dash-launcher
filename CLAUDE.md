# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## プロジェクト概要

QuickDashLauncherは、グローバルホットキー（Ctrl+Alt+W）でWebサイト、アプリケーション、フォルダ、ファイルに素早くアクセスできるWindows用ランチャーアプリケーション（Electron + React + TypeScript）です。

### 主要機能
- **グローバルホットキー**: Ctrl+Alt+Wで即座にランチャーを呼び出し
- **ウィンドウ固定化**: 📌ボタンでウィンドウを固定し、フォーカスアウトしても非表示にならない
- **アイコン表示**: アプリケーション、ファイル、URLのアイコンを自動取得・表示
- **タブ切り替え**: メインタブと一時タブでアイテムを分類管理
- **リアルタイム検索**: 入力に応じてアイテムをリアルタイムフィルタリング
- **ドラッグ&ドロップ登録**: ファイルやフォルダをドラッグ&ドロップで簡単登録
- **データファイル並べ替え**: 設定メニューからデータファイルをパスの昇順でソート
- **生データ編集モード**: Ctrl+Eで編集モードに切り替え、data.txt、data2.txt、tempdata.txtを直接編集。2つの編集方法を提供：①セル編集（クリック/📝ボタン）で素早い修正、②詳細編集ボタン（✏️）でRegisterModalを使った包括的編集（アイテム種別の選択、フォルダ処理・DIRオプション等も設定可能）。編集モード時はウィンドウサイズが自動拡大（1000x700px）し、フォーカスアウトでも非表示にならない
- **拡張DIRディレクティブ**: フォルダ内のファイル・フォルダを柔軟にインポート（フィルター、プレフィックス、深さ制御対応）

## ビルドコマンド

```bash
npm install              # 依存関係のインストール
npm run dev             # 開発モード（Viteデベロップメントサーバー、ホットリロード付き）
npm run build           # 全コンポーネントのビルド（Vite使用）
npm run preview         # ビルド済みアプリケーションのプレビュー
npm run start           # ビルドして実行
npm run dist            # Windowsインストーラーの作成
```

### WSL2環境でのビルド

WSL2環境からビルドするときは、Windows上でビルドさせるために、PowerShellを使ってください：

```bash
powershell.exe -Command "npm run build"
powershell.exe -Command "npm run dist"
```

## 詳細ドキュメント

プロジェクトの詳細な技術仕様は、以下のドキュメントを参照してください：

- **[アーキテクチャ詳細](docs/architecture.md)** - プロセス構造、IPC、データフロー
- **[アイコン処理システム](docs/icon-processing.md)** - アイコン取得・キャッシュ・表示の詳細仕様
- **[開発ガイド](docs/development-guide.md)** - 実装詳細、ビルドシステム、デバッグ、テスト
- **[DIRディレクティブ仕様](docs/dir-directive.md)** - DIRディレクティブの詳細な使用方法とオプション
- **[ファビコン実装仕様](docs/favicon-implementation.md)** - ファビコン取得システムの技術仕様

## 主な技術スタック

- **フロントエンド**: React + TypeScript + Vite
- **バックエンド**: Electron (メインプロセス)
- **開発環境**: WSL2 + PowerShell（ビルド時）
- **パッケージング**: electron-builder

## 重要な制約事項

1. **Windows専用アプリケーション** - クロスプラットフォーム非対応
2. **WSL2環境でのビルド時**: PowerShellコマンドを使用する必要がある
3. **テストフレームワーク未導入** - 手動テストのみ実施

## 📚 ドキュメント自動更新システム

このプロジェクトでは、開発中に得られた知識を体系的に管理し、既存ドキュメントに反映させるシステムを採用しています。

### 参照すべきドキュメント

作業開始時に必ず以下のドキュメントを確認してください：

- `CLAUDE.md` - プロジェクトの包括的なドキュメント（プロジェクト概要、ビルドコマンド、参照先）
- `docs/architecture.md` - アーキテクチャ詳細（プロセス構造、IPC、データフロー）
- `docs/icon-processing.md` - アイコン処理システムの詳細仕様
- `docs/development-guide.md` - 開発ガイド（実装詳細、ビルドシステム、デバッグ、テスト）
- `docs/dir-directive.md` - DIRディレクティブの詳細な使用方法とオプション
- `docs/favicon-implementation.md` - ファビコン取得システムの詳細な技術仕様

### 更新ルール

#### 提案タイミング
以下の状況で、ドキュメント更新を提案してください：

1. **エラーや問題を解決した時**
2. **効率的な実装パターンを発見した時**
3. **新しいAPI/ライブラリの使用方法を確立した時**
4. **既存ドキュメントの情報が古い/不正確だと判明した時**
5. **頻繁に参照される情報を発見した時**
6. **コードレビューの修正を終わらせた時**

#### 提案フォーマット
```
💡 ドキュメント更新の提案： [状況の説明]
【更新内容】 [具体的な追加/修正内容]
【更新候補】
[ファイルパス1] - [理由]
[ファイルパス2] - [理由]
新規ファイル作成 - [理由]
どこに追加しますか？（番号を選択 or skip）
```

#### 承認プロセス
1. ユーザーが更新先を選択
2. 実際の更新内容をプレビュー表示
3. ユーザーが最終承認（yes/edit/no）
4. 承認後、ファイルを更新

### 既存ドキュメントとの連携

- 既存の記載形式やスタイルを踏襲すること
- 関連する既存内容がある場合は参照を明記すること

### ドキュメント記載ルール

- **現在の状態のみを記載**: 変更履歴や日付付きの説明は含めない
- **静的な仕様書として維持**: 「新機能」「追加された」などの表現を避ける
- **事実ベースの記述**: 現在の実装内容と機能のみを客観的に記載

### 重要な制約

1. **ユーザーの承認なしにファイルを更新しない**
2. **既存の内容を削除・変更せず、追加のみ行う**
3. **機密情報（APIキー、パスワード等）は記録しない**
4. **プロジェクトの慣習やスタイルガイドに従う**

### ドキュメントの分割管理

CLAUDE.mdが肥大化することを防ぐため、以下の基準で適切にファイルを分割してください：

- **100行を超えた場合**: 関連する内容を別ファイルに分離することを提案
- **推奨される分割方法**:
  - `docs/architecture.md` - アーキテクチャ詳細
  - `docs/icon-processing.md` - アイコン処理システム
  - `docs/development-guide.md` - 開発ガイド
- **CLAUDE.mdには概要とリンクのみ残す**: 詳細は個別ファイルへ