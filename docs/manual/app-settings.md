# アプリケーション設定

QuickDashLauncherの動作をカスタマイズするための設定機能の使い方を説明します。

設定項目の詳細な仕様については、**[アプリケーション設定仕様](../reference/settings-specification.md)** を参照してください。

## 初回起動時の設定

アプリケーションを初めて起動した際、または設定ファイルの`hotkey`項目が空の場合、初回設定画面が自動的に表示されます。

### 初回設定画面

初回設定画面では、アプリケーションを呼び出すためのグローバルホットキーを設定します。

#### 設定手順

1. **グローバルホットキー設定**
   - 入力欄をクリックして、希望するキー組み合わせを実際に押下（例：`Ctrl+Alt+Q`）
   - リアルタイムでバリデーションが実行され、使用可能かチェックされます
   - デフォルトは `Alt+Space` が入力されています
   - ヒント: 修飾キー（Ctrl、Alt、Shift等）と通常キーを組み合わせてください

2. **設定完了**
   - 「設定を完了」ボタンをクリックして、入力したホットキーを保存
   - 設定完了後、メインウィンドウが表示されます

#### 動作詳細

- **表示条件**: 設定ファイルの`hotkey`項目が空文字列または未設定の場合
- **自動表示**: スプラッシュウィンドウ終了後に自動的に表示されます
- **閉じられない**: 初回設定が完了するまで、ESCキーやフォーカス喪失では閉じません
- **再設定可能**: ホットキーは後から設定画面で変更可能です

### 開発者向け情報

初回設定画面をスキップしたい場合は、設定ファイル（`%APPDATA%/quick-dash-launcher/config/settings.json`）を直接編集して`hotkey`に任意の値（例: `"Alt+Space"`）を設定してください。

## 設定画面へのアクセス

設定画面は以下の方法でアクセスできます：

1. **基本設定タブ**：⚙ボタン → 「⚙️ 基本設定」をクリック
2. **アイテム管理タブ**：⚙ボタン → 「✏️ アイテム管理」をクリック
3. **その他タブ**：⚙ボタン → 「📊 その他」をクリック

設定画面は「基本設定」「アイテム管理」「その他」の3つのタブで構成されています。

### その他タブでできること

「その他」タブでは、以下の機能にアクセスできます：

- **ファイル管理**
  - 📁 設定フォルダを開く：エクスプローラーで設定フォルダを開きます
  - 📄 データファイルを開く：`data.txt`をテキストエディタで開きます

- **アプリケーション情報**
  - バージョン番号とライセンス情報を確認できます
  - 🔗 GitHubリポジトリボタンでプロジェクトページを開けます

- **ショートカット一覧**
  - 利用可能なキーボードショートカットの一覧が表示されます

- **アプリケーション制御**
  - 🚪 アプリケーションを終了：アプリケーションを完全に終了します

## 主要な設定項目

### グローバルホットキー

アプリケーションを呼び出すためのキー組み合わせを設定できます（デフォルト: `Alt+Space`）。

#### 設定方法

1. 「グローバルホットキー」の入力欄をクリック
2. 希望するキー組み合わせを実際に押下（例：`Ctrl+Alt+Q`）
3. リアルタイムでバリデーションが実行され、使用可能かチェックされます
4. 「保存」ボタンをクリックで設定を保存

#### 設定例

```
Ctrl+Alt+Q
Ctrl+Shift+L
Alt+F1
```

### ウィンドウサイズ

通常時とアイテム管理時のウィンドウサイズをそれぞれカスタマイズできます。

- **通常時**: 幅400-2000px、高さ300-1200px
- **アイテム管理時**: 幅800-2000px、高さ600-1200px

### 自動起動

Windowsログイン時に自動的にアプリケーションを起動するかを設定できます（デフォルト: 無効）。

### バックアップ設定

データファイルの自動バックアップに関する設定を行います。

#### バックアップ機能を有効にする

バックアップ機能全体のON/OFFを切り替えます。無効にすると、すべてのバックアップ処理が停止します（デフォルト: 無効）。

#### バックアップのタイミング

以下の2つのタイミングでバックアップを作成できます：

1. **アプリ起動時**: アプリケーション起動時に`data.txt`と`data2.txt`をバックアップ（デフォルト: 無効）
2. **データ編集時**: アイテム管理や生データ編集でデータを変更した際に自動バックアップ（デフォルト: 無効）

#### バックアップの制御

- **最小バックアップ間隔**: 1～60分で設定可能（デフォルト: 5分）
  - 頻繁な編集による過剰なバックアップ作成を防ぎます
- **バックアップ保存件数**: 1～100件で設定可能（デフォルト: 20件）
  - 上限を超えると古いバックアップから自動的に削除されます

#### バックアップファイルの確認

バックアップファイルは `%APPDATA%/quick-dash-launcher/config/backup/` に保存されます。

ファイル名形式: `data_2024-01-01T12-00-00.txt`

### タブ表示設定

複数のデータファイル（data.txt, data2.txt, data3.txt...）をタブで切り替えて使用できます。

#### 複数データファイルをタブで表示

タブ表示のON/OFFを切り替えます（デフォルト: 無効）。

- **ON**: メインウィンドウに各データファイルのタブが表示されます
- **OFF**: data.txtのみが表示されます

**即座反映**: チェックボックスを変更すると設定が即座に保存され、メインウィンドウに反映されます。

#### データファイル管理

タブ表示をONにすると、データファイルの一覧が表示され、以下の操作が可能になります：

**データファイルの追加:**
- **➕行追加**ボタンをクリック
- 次の番号のファイル（例: data2.txt, data3.txt...）が自動的に作成されます
- 作成されたファイルは即座に設定画面のリストに表示されます

**タブ名のカスタマイズ:**
- 各データファイルにカスタムタブ名を設定できます
- タブ名が未設定の場合は、わかりやすいデフォルト名が表示されます
  - data.txt → 「メイン」
  - data2.txt → 「サブ1」
  - data3.txt → 「サブ2」
- タブ名を入力すると設定が即座に保存され、メインウィンドウのタブ名がリアルタイムに更新されます
- 設定例: data.txt → "仕事用"、data2.txt → "プライベート"

**データファイルの削除:**
- 🗑️ボタンをクリックして不要なデータファイルを削除
- **注意**: data.txtは削除できません（必須ファイル）
- 削除すると、ファイル内のデータは完全に失われます

**設定フォルダを開く:**
- **📁フォルダを開く**ボタンでエクスプローラーから直接ファイルを確認できます

#### デフォルトタブ

アプリ起動時に最初に表示するタブのファイル名を指定します（デフォルト: data.txt）。

- 指定したファイルが存在しない場合は、自動的にdata.txtが表示されます

#### タブの表示順序

メインウィンドウに表示されるタブの順序をカスタマイズできます。

- ドラッグ&ドロップでタブの順序を変更
- デフォルトではファイル名順（data.txt, data2.txt, data3.txt...）で表示

## 設定の保存と適用

### 即座反映

**v1.0.0以降の変更**: すべての設定変更が「保存」ボタンなしで即座に反映されます。

- 設定を変更すると自動的に保存されます
- 設定ファイル（`settings.json`）に即座に書き込まれます
- メインウィンドウがある場合は自動的に設定が反映されます
- 再起動は不要です

### 設定のリセット

「リセット」ボタンをクリックすると、全ての設定がデフォルト値に戻ります。

### 設定ファイルの直接編集

上級者向けの機能として、設定ファイルを直接編集することも可能です：

1. 設定メニュー → 「📄 設定ファイルを開く」
2. テキストエディタで編集
3. アプリケーションを再起動

設定ファイルは `%APPDATA%/quick-dash-launcher/config/settings.json` に保存されています。

## トラブルシューティング

### ホットキーが動作しない

1. **他のアプリケーションとの競合**
   - 異なるキー組み合わせに変更してください
   
2. **管理者権限での実行**
   - 一部のアプリケーションとの連携で必要な場合があります

3. **設定の破損**
   - 設定をデフォルトにリセットしてください

### 設定が保存されない

1. **書き込み権限の確認**
   - 設定フォルダへの書き込み権限があるか確認
   
2. **ディスク容量の確認**
   - 十分な空き容量があるか確認

## 関連ドキュメント

- **[アプリケーション設定仕様](../reference/settings-specification.md)** - 設定項目の詳細仕様
- **[キーボードショートカット](../reference/keyboard-shortcuts.md)** - 利用可能なショートカット一覧
- **[はじめに](../guides/getting-started.md)** - 基本的な使い方