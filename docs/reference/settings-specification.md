# アプリケーション設定仕様

QuickDashLauncherの設定項目の完全な仕様です。

## 設定ファイル

### 保存場所

- **Windows**: `%APPDATA%/quick-dash-launcher/config/settings.json`
- **形式**: JSON
- **文字エンコーディング**: UTF-8

### 設定の適用タイミング

- 設定変更は即座に適用されます（再起動不要）
- 例外: 一部のシステム統合設定（自動起動など）

## 設定項目一覧

### グローバルホットキー

| 項目 | 値 |
|------|-----|
| **キー** | `globalHotkey` |
| **型** | `string` |
| **デフォルト値** | `Ctrl+Alt+W` |
| **形式** | `<修飾キー>+<修飾キー>+<キー>` |

#### 対応可能なキー

**修飾キー**:
- `Ctrl`
- `Alt`
- `Shift`
- `CmdOrCtrl`
- `Command`
- `Cmd`

**通常キー**:
- `A-Z` (アルファベット)
- `0-9` (数字)
- `F1-F12` (ファンクションキー)

#### 組み合わせ例

```
Ctrl+Alt+Q
Ctrl+Shift+L
Alt+F1
Ctrl+Alt+0
```

#### バリデーションルール

- **必須**: 最低1つの修飾キーが必要
- **禁止**: システム予約キー（例: `Ctrl+Alt+Del`）
- **競合チェック**: 他のアプリケーションで使用中のキー組み合わせは登録不可

### ウィンドウサイズ設定

#### 通常時のウィンドウサイズ

| 項目 | 値 |
|------|-----|
| **幅キー** | `windowWidth` |
| **高さキー** | `windowHeight` |
| **型** | `number` |
| **幅デフォルト** | `600` |
| **高さデフォルト** | `400` |
| **幅範囲** | `400` ～ `2000` (px) |
| **高さ範囲** | `300` ～ `1200` (px) |

#### アイテム管理時のウィンドウサイズ

| 項目 | 値 |
|------|-----|
| **幅キー** | `editWindowWidth` |
| **高さキー** | `editWindowHeight` |
| **型** | `number` |
| **幅デフォルト** | `1000` |
| **高さデフォルト** | `700` |
| **幅範囲** | `800` ～ `2000` (px) |
| **高さ範囲** | `600` ～ `1200` (px) |

### 起動設定

#### 自動起動

| 項目 | 値 |
|------|-----|
| **キー** | `autoLaunch` |
| **型** | `boolean` |
| **デフォルト値** | `false` |
| **説明** | Windowsログイン時に自動起動 |

### バックアップ設定

#### バックアップ機能を有効にする

| 項目 | 値 |
|------|-----|
| **キー** | `backup.enabled` |
| **型** | `boolean` |
| **デフォルト値** | `false` |
| **説明** | バックアップ機能全体のON/OFF |

#### アプリ起動時にバックアップを作成

| 項目 | 値 |
|------|-----|
| **キー** | `backup.onStartup` |
| **型** | `boolean` |
| **デフォルト値** | `false` |
| **説明** | アプリ起動時に`data.txt`と`data2.txt`をバックアップ |

#### データ編集時にバックアップを作成

| 項目 | 値 |
|------|-----|
| **キー** | `backup.onEdit` |
| **型** | `boolean` |
| **デフォルト値** | `false` |
| **説明** | アイテム管理や生データ編集でデータ変更時にバックアップを作成 |

#### 最小バックアップ間隔

| 項目 | 値 |
|------|-----|
| **キー** | `backup.minInterval` |
| **型** | `number` |
| **デフォルト値** | `5` |
| **範囲** | `1` ～ `60` (分) |
| **説明** | 同一ファイルのバックアップ作成間隔の制限 |

#### バックアップ保存件数

| 項目 | 値 |
|------|-----|
| **キー** | `backup.maxCount` |
| **型** | `number` |
| **デフォルト値** | `20` |
| **範囲** | `1` ～ `100` (件) |
| **説明** | 各ファイルごとの最大保存件数。上限を超えると古いバックアップから削除 |

### バックアップファイル

#### 保存場所

- **Windows**: `%APPDATA%/quick-dash-launcher/config/backup/`

#### ファイル名形式

```
<元ファイル名>_<タイムスタンプ>.txt
```

**例**:
```
data_2024-01-01T12-00-00.txt
data2_2024-01-01T12-00-00.txt
```

#### タイムスタンプ形式

- **形式**: ISO 8601準拠
- **パターン**: `YYYY-MM-DDTHH-mm-ss`
- **タイムゾーン**: ローカル時刻

## バリデーションルール

### ホットキー

1. **形式チェック**: `<修飾キー>+<キー>` の形式に準拠
2. **修飾キー必須**: 最低1つの修飾キーが含まれている
3. **利用可能性チェック**: システムレベルでの登録可否を確認
4. **競合チェック**: 既存のアプリケーションとの重複を検出

### 数値範囲

各数値設定項目は指定された範囲内に収まる必要があります。範囲外の値は保存時にエラーとなります。

| 設定項目 | 最小値 | 最大値 |
|---------|-------|-------|
| `windowWidth` | 400 | 2000 |
| `windowHeight` | 300 | 1200 |
| `editWindowWidth` | 800 | 2000 |
| `editWindowHeight` | 600 | 1200 |
| `backup.minInterval` | 1 | 60 |
| `backup.maxCount` | 1 | 100 |

## 設定ファイルのサンプル

```json
{
  "globalHotkey": "Ctrl+Alt+W",
  "windowWidth": 600,
  "windowHeight": 400,
  "editWindowWidth": 1000,
  "editWindowHeight": 700,
  "autoLaunch": false,
  "backup": {
    "enabled": false,
    "onStartup": false,
    "onEdit": false,
    "minInterval": 5,
    "maxCount": 20
  }
}
```

## 関連ドキュメント

- **[アプリケーション設定](../manual/app-settings.md)** - 設定方法とトラブルシューティング
- **[キーボードショートカット](keyboard-shortcuts.md)** - 利用可能なショートカット一覧
